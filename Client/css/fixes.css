/* ============================================
   URGENT FIXES FOR SOFT UI CONFLICTS
   Version: 1.0
   Load this AFTER soft-ui-base.css
   ============================================ */

/* ===========================================
   1. TAB VISIBILITY FIX - CRITICAL
   =========================================== */

/* Force hide all tabs by default */
.tab-content {
  display: none !important;
  opacity: 1 !important;
  transform: none !important;
  transition: none !important;
}

/* Show only active tab */
.tab-content.active {
  display: block !important;
}

/* ===========================================
   2. NAVIGATION ACTIVE STATE FIX
   =========================================== */

/* Soft UI nav-link active state */
#sidebar .nav-link.active {
  background: linear-gradient(
    310deg,
    var(--primary-color) 0%,
    var(--primary-hover) 100%
  ) !important;
  box-shadow: 0 4px 7px -1px rgba(0, 0, 0, 0.11),
    0 2px 4px -1px rgba(0, 0, 0, 0.07) !important;
}

#sidebar .nav-link.active .icon {
  background-color: white !important;
}

#sidebar .nav-link.active i {
  color: var(--primary-color) !important;
}

#sidebar .nav-link.active .nav-link-text {
  color: white !important;
  font-weight: 600 !important;
}

/* Legacy list-group-item support (if any remain) */
#sidebar .list-group-item.active {
  background-color: var(--primary-color) !important;
  border-color: var(--primary-color) !important;
  color: white !important;
}

/* ===========================================
   3. BUTTON INTERACTION FIX
   =========================================== */

/* Prevent soft-ui button transforms from causing issues */
.btn:active,
.btn:focus {
  transform: scale(1) !important;
  outline: none !important;
}

/* Ensure buttons are clickable */
.btn {
  pointer-events: auto !important;
  cursor: pointer !important;
}

/* Nav links should be clickable */
.nav-link {
  cursor: pointer !important;
  pointer-events: auto !important;
}

/* ===========================================
   4. CARD & CONTENT FIX
   =========================================== */

/* Disable card animations that might conflict */
.card {
  transition: none !important;
  transform: none !important;
}

/* Ensure cards are visible */
.card.animate-on-scroll {
  opacity: 1 !important;
  transform: none !important;
}

/* ===========================================
   5. SIDEBAR FIX
   =========================================== */

/* Ensure sidebar is always visible */
#sidebar {
  display: flex !important;
  flex-direction: column !important;
}

/* Fix sidebar navigation list */
#sidebar .navbar-nav {
  width: 100% !important;
}

/* Fix nav item padding and spacing */
#sidebar .nav-item {
  margin-bottom: 0 !important;
}

#sidebar .nav-link {
  padding: 0.75rem 1rem !important;
  margin: 0.125rem 0.5rem !important;
  border-radius: 0.5rem !important;
}

/* ===========================================
   6. FORM & INPUT FIX
   =========================================== */

/* Ensure form inputs are usable */
.form-control {
  pointer-events: auto !important;
}

.form-control:focus {
  outline: none !important;
  border-color: var(--primary-color) !important;
  box-shadow: 0 0 0 0.2rem rgba(67, 97, 238, 0.25) !important;
}

/* ===========================================
   7. LOGIN OVERLAY FIX
   =========================================== */

/* Ensure login screen is above everything */
#login-overlay {
  z-index: 9999 !important;
}

#login-overlay.hidden {
  display: none !important;
}

/* ===========================================
   8. APP WRAPPER FIX
   =========================================== */

/* Ensure app wrapper is hidden when not authenticated */
#app-wrapper.disabled-ui {
  pointer-events: none !important;
  opacity: 0.3 !important;
}

/* Show app when authenticated */
#app-wrapper:not(.disabled-ui) {
  pointer-events: auto !important;
  opacity: 1 !important;
}

/* ===========================================
   9. RESPONSIVE FIX
   =========================================== */

/* Ensure content is scrollable on small screens */
#page-content {
  overflow-y: auto !important;
  height: 100vh !important;
}

/* ===========================================
   10. DISCONNECT BUTTON FIX
   =========================================== */

/* Ensure disconnect button is styled correctly */
#btn-disconnect {
  margin-top: auto !important;
}

/* Override any conflicting styles - let sidebar-menu.css handle the styling */
#btn-disconnect.bg-gradient-danger {
  background: linear-gradient(135deg, var(--danger-color, #ef4444) 0%, var(--danger-hover, #dc2626) 100%) !important;
  color: white !important;
  border: none !important;
}

/* ===========================================
   11. ANIMATION OVERRIDE (OPTIONAL)
   Comment these out if you want animations
   =========================================== */

/* Disable all transitions for debugging
* {
    transition: none !important;
    animation: none !important;
}
*/

/* ===========================================
   12. Z-INDEX FIX
   =========================================== */

/* Ensure proper stacking order */
/* Sidebar z-index is now auto since it's static positioned */
#page-content {
  z-index: auto;
}

.toast-container {
  z-index: 10000 !important;
}

/* Modal should be above everything */
.modal {
  z-index: 9998 !important;
}

.modal-backdrop {
  z-index: 9997 !important;
}

/* ===========================================
   13. TEXT & ICON FIX
   =========================================== */

/* Ensure text is readable */
.nav-link-text {
  font-size: 0.875rem !important;
  font-weight: 400 !important;
}

/* Icon sizing */
.icon-shape {
  width: 32px !important;
  height: 32px !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
}

.icon-shape i {
  font-size: 14px !important;
}

/* ===========================================
   14. SPECIFIC COMPONENT FIXES
   =========================================== */

/* Dashboard cards */
#tab-dashboard .card {
  margin-bottom: 1.5rem !important;
}

/* Monitor canvas */
#monitor-canvas {
  max-width: 100% !important;
  height: auto !important;
  display: block !important;
}

/* Webcam video */
#webcam-video {
  max-width: 100% !important;
  height: auto !important;
  display: block !important;
}

/* File manager tree */
#file-tree {
  max-height: 400px !important;
  overflow-y: auto !important;
}

/* Terminal output */
#terminal-output {
  max-height: 500px !important;
  overflow-y: auto !important;
  font-family: "Consolas", monospace !important;
}

/* ===========================================
   15. UTILITY CLASSES
   =========================================== */

/* Quick visibility toggles */
.force-show {
  display: block !important;
  opacity: 1 !important;
  visibility: visible !important;
}

.force-hide {
  display: none !important;
}

/* Debug border */
.debug-border {
  border: 2px solid red !important;
}

/* Debug background */
.debug-bg {
  background-color: rgba(255, 0, 0, 0.1) !important;
}
